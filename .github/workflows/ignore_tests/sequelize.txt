truncates all models
correctly handles multiple transactions
